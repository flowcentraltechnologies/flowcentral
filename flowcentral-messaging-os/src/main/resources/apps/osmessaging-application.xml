<?xml version="1.0"?>
<!-- OS Messaging application -->
<application
	xmlns="http://flowcentraltech.com/schema-common"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://flowcentraltech.com/schema-common https://schema.flowcentralplatform.com/xsd/flowcentral-application-4.0.0.xsd"
	name="osmessaging"
	description="$m{osmessaging.short.description}"
	label="$m{osmessaging.label}" module="osmessaging">
	<!-- Widgets -->

	<!-- Applets -->
	<applets>
		<applet name="manageOSMessagingTarget"
			description="$m{osmessaging.osmessagingtarget.manage}"
			label="$m{osmessaging.osmessagingtarget.manage.label}" icon="sign-out"
			type="MANAGE_ENTITYLIST" entity="osMessagingTarget"
			menuAccess="true">
			<properties>
				<property name="searchTable"
					value="osMessagingTargetTable" />
				<property name="searchTable.new" value="true" />
				<property name="searchTable.report" value="true" />
				<property name="searchTable.quickFilter" value="true" />
				<property name="searchTable.basicSearchOnly" value="true" />
				<property name="createForm" value="osMessagingTargetForm" />
				<property name="createForm.save" value="true" />
				<property name="createForm.save.next" value="true" />
				<property name="createForm.save.close" value="true" />
				<property name="maintainForm"
					value="osMessagingTargetForm" />
				<property name="maintainForm.update" value="true" />
				<property name="maintainForm.delete" value="true" />
			</properties>
		</applet>
		<applet name="manageOSMessagingSource"
			description="$m{osmessaging.osmessagingsource.manage}"
			label="$m{osmessaging.osmessagingsource.manage.label}" icon="sign-in"
			type="MANAGE_ENTITYLIST" entity="osMessagingSource"
			menuAccess="true">
			<properties>
				<property name="searchTable"
					value="osMessagingSourceTable" />
				<property name="searchTable.new" value="true" />
				<property name="searchTable.report" value="true" />
				<property name="searchTable.quickFilter" value="true" />
				<property name="searchTable.basicSearchOnly" value="true" />
				<property name="createForm" value="osMessagingSourceForm" />
				<property name="createForm.save" value="true" />
				<property name="createForm.save.next" value="true" />
				<property name="createForm.save.close" value="true" />
				<property name="maintainForm"
					value="osMessagingSourceForm" />
				<property name="maintainForm.update" value="true" />
				<property name="maintainForm.delete" value="true" />
			</properties>
		</applet>
		<applet name="manageOSMessagingAsync"
			description="$m{osmessaging.osmessagingasync.manage}"
			label="$m{osmessaging.osmessagingasync.manage.label}" icon="mail-bulk"
			type="MANAGE_ENTITYLIST" entity="osMessagingAsync"
			menuAccess="true">
			<properties>
				<property name="searchTable" value="osMessagingAsyncTable" />
				<property name="searchTable.new" value="false" />
				<property name="searchTable.report" value="false" />
				<property name="searchTable.quickFilter" value="true" />
				<property name="searchTable.basicSearchOnly" value="true" />
				<property name="createForm" value="osMessagingAsyncForm" />
				<property name="maintainForm" value="osMessagingAsyncForm" />
				<property name="maintainForm.update" value="false" />
				<property name="maintainForm.delete" value="false" />
			</properties>
		</applet>
		<applet name="manageOSMessagingLog"
			description="$m{osmessaging.osmessaginglog.manage}"
			label="$m{osmessaging.osmessaginglog.manage.label}" icon="logs"
			type="MANAGE_ENTITYLIST" entity="osMessagingLog" menuAccess="true">
			<properties>
				<property name="searchTable" value="osMessagingLogTable" />
				<property name="searchTable.new" value="false" />
				<property name="searchTable.report" value="true" />
				<property name="searchTable.quickFilter" value="true" />
				<property name="searchTable.basicSearchOnly" value="true" />
				<property name="maintainForm" value="osMessagingLogForm" />
				<property name="maintainForm.update" value="false" />
				<property name="maintainForm.delete" value="false" />
			</properties>
		</applet>
	</applets>
	<!-- References -->
	<references>
		<reference name="osMessagingTargetRef"
			description="$m{osmessaging.osmessagingtarget.reference}"
			entity="osMessagingTarget" searchField="description" />
		<reference name="osMessagingSourceRef"
			description="$m{osmessaging.osmessagingsource.reference}"
			entity="osMessagingSource" searchField="description" />
		<reference name="osMessagingAsyncRef"
			description="$m{osmessaging.osmessagingasync.reference}"
			entity="osMessagingAsync" searchField="target" />
		<reference name="osMessagingLogRef"
			description="$m{osmessaging.osmessaginglog.reference}"
			entity="osMessagingLog" searchField="osMessagingDesc" />
	</references>
	<!-- Entities -->
	<entities>
		<entity name="osMessagingTarget"
			description="$m{osmessaging.osmessagingtarget}"
			label="$m{osmessaging.osmessagingtarget.label}"
			type="com.flowcentraltech.flowcentral.messaging.os.entities.OSMessagingTarget"
			auditable="true" reportable="true">
			<fields>
				<field name="name"
					label="$m{osmessaging.osmessagingtarget.name}" type="STRING"
					inputWidget="application.name" maxLen="64" basicSearch="true" />
				<field name="description"
					label="$m{osmessaging.osmessagingtarget.description}" type="STRING"
					inputWidget="application.text" maxLen="128" />
				<field name="targetUrl"
					label="$m{osmessaging.osmessagingtarget.targeturl}"
					type="STRING" inputWidget="application.textarea" maxLen="256" />
				<field name="password"
					label="$m{osmessaging.osmessagingtarget.password}" type="STRING"
					inputWidget="application.password" maxLen="32" />
			</fields>
			<uniqueConstraints>
				<uniqueConstraint name="nameUc"
					description="$m{osmessaging.osmessagingtarget.uc.name}"
					fieldList="name" />
				<uniqueConstraint name="descUc"
					description="$m{osmessaging.osmessagingtarget.uc.description}"
					fieldList="description" />
			</uniqueConstraints>
		</entity>
		<entity name="osMessagingSource"
			description="$m{osmessaging.osmessagingsource}"
			label="$m{osmessaging.osmessagingsource.label}"
			type="com.flowcentraltech.flowcentral.messaging.os.entities.OSMessagingSource"
			auditable="true" reportable="true">
			<fields>
				<field name="name"
					label="$m{osmessaging.osmessagingsource.name}" type="STRING"
					inputWidget="application.name" maxLen="64" basicSearch="true" />
				<field name="description"
					label="$m{osmessaging.osmessagingsource.description}" type="STRING"
					inputWidget="application.text" maxLen="128" />
				<field name="password"
					label="$m{osmessaging.osmessagingsource.password}" type="STRING"
					inputWidget="application.password" maxLen="32" />
			</fields>
			<uniqueConstraints>
				<uniqueConstraint name="nameUc"
					description="$m{osmessaging.osmessagingsource.uc.name}"
					fieldList="name" />
				<uniqueConstraint name="descUc"
					description="$m{osmessaging.osmessagingsource.uc.description}"
					fieldList="description" />
			</uniqueConstraints>
		</entity>
		<entity name="osMessagingAsync"
			description="$m{osmessaging.osmessagingasync}"
			label="$m{osmessaging.osmessagingasync.label}"
			type="com.flowcentraltech.flowcentral.messaging.os.entities.OSMessagingAsync"
			auditable="true" reportable="true">
			<fields>
				<field name="target"
					label="$m{osmessaging.osmessagingasync.endpoint}" type="STRING"
					inputWidget="application.text" maxLen="64" basicSearch="true" />
				<field name="message"
					label="$m{osmessaging.osmessagingasync.message}" type="CLOB"
					inputWidget="application.textareamedium" />
				<field name="nextAttemptOn"
					label="$m{osmessaging.osmessagingasync.nextattempton}"
					type="TIMESTAMP" inputWidget="application.text"/>
				<field name="processBefore"
					label="$m{osmessaging.osmessagingasync.processbefore}"
					type="TIMESTAMP" inputWidget="application.text" nullable="true"/>
				<field name="sentOn"
					label="$m{osmessaging.osmessagingasync.senton}"
					type="TIMESTAMP" inputWidget="application.text" nullable="true"/>
				<field name="responseCode"
					label="$m{osmessaging.osmessagingasync.responsecode}" type="STRING"
					inputWidget="application.name" maxLen="10"/>
				<field name="responseMsg"
					label="$m{osmessaging.osmessagingasync.responsemsg}" type="STRING"
					inputWidget="application.textarea" maxLen="256" />
				<field name="processing"
					label="$m{osmessaging.osmessagingasync.processing}" type="BOOLEAN"
					inputWidget="application.checkbox" nullable="true" />
			</fields>
		</entity>
		<entity name="osMessagingLog"
			description="$m{osmessaging.osmessaginglog}"
			label="$m{osmessaging.osmessaginglog.label}"
			type="com.flowcentraltech.flowcentral.messaging.os.entities.OSMessagingLog">
			<fields>
				<field name="target"
					label="$m{osmessaging.osmessaginglog.target}" type="STRING"
					maxLen="32" basicSearch="true" />
				<field name="processor"
					label="$m{osmessaging.osmessaginglog.processor}" type="STRING"
					maxLen="64" nullable="true" basicSearch="true"/>
				<field name="requestBody"
					label="$m{osmessaging.osmessaginglog.requestbody}" type="STRING"
					nullable="true" />
				<field name="responseBody"
					label="$m{osmessaging.osmessaginglog.responsebody}" type="STRING"
					nullable="true" />
				<field name="responseCode"
					label="$m{osmessaging.osmessaginglog.responsecode}" type="STRING"
					maxLen="10" nullable="true" />
				<field name="responseMsg"
					label="$m{osmessaging.osmessaginglog.responsemsg}" type="STRING"
					maxLen="512" nullable="true" />
				<field name="runtimeInMilliSec"
					label="$m{osmessaging.osmessaginglog.runtimeinmillisec}" type="LONG"
					nullable="true" />
			</fields>
		</entity>
	</entities>
	<!-- Tables -->
	<tables>
		<table name="osMessagingTargetTable"
			description="$m{osmessaging.osmessagingtarget.table}"
			label="$m{osmessaging.osmessagingtarget.table.label}"
			entity="osMessagingTarget" itemsPerPage="20" serialNo="true"
			basicSearch="true">
			<columns>
				<column field="name" renderWidget="application.name"
					widthRatio="2" linkAct="maintainAct" />
				<column field="description" renderWidget="application.text"
					widthRatio="4" />
				<column field="targetUrl" renderWidget="application.text"
					widthRatio="3" />
				<column field="statusDesc" renderWidget="application.text"
					label="$m{osmessaging.osmessagingtarget.status}" widthRatio="1" />
				<column field="createDt" renderWidget="application.datetime"
					widthRatio="2" order="DESC" />
				<column field="updateDt" renderWidget="application.datetime"
					widthRatio="2" />
			</columns>
		</table>
		<table name="osMessagingSourceTable"
			description="$m{osmessaging.osmessagingsource.table}"
			label="$m{osmessaging.osmessagingsource.table.label}"
			entity="osMessagingSource" itemsPerPage="20" serialNo="true"
			basicSearch="true">
			<columns>
				<column field="name" renderWidget="application.name"
					widthRatio="2" linkAct="maintainAct" />
				<column field="description" renderWidget="application.text"
					widthRatio="4" />
				<column field="statusDesc" renderWidget="application.text"
					label="$m{osmessaging.osmessagingsource.status}" widthRatio="1" />
				<column field="createDt" renderWidget="application.datetime"
					widthRatio="2" order="DESC" />
				<column field="updateDt" renderWidget="application.datetime"
					widthRatio="2" />
			</columns>
		</table>
		<table name="osMessagingAsyncTable"
			description="$m{osmessaging.osmessagingasync.table}"
			label="$m{osmessaging.osmessagingasync.table.label}"
			entity="osMessagingAsync" itemsPerPage="20" serialNo="true"
			basicSearch="true">
			<columns>
				<column field="target" renderWidget="application.name"
					widthRatio="1" linkAct="maintainAct" />
				<column field="nextAttemptOn" renderWidget="application.text"
					widthRatio="1" />
				<column field="sentOn" renderWidget="application.datetime"
					widthRatio="1"/>
				<column field="responseCode" renderWidget="application.text"
					widthRatio="1" />
				<column field="createDt" renderWidget="application.datetime"
					widthRatio="1" order="DESC" />
				<column field="updateDt" renderWidget="application.datetime"
					widthRatio="1" />
			</columns>
		</table>
		<table name="osMessagingLogTable"
			description="$m{osmessaging.osmessaginglog.table}"
			label="$m{osmessaging.osmessaginglog.table.label}"
			entity="osMessagingLog" itemsPerPage="25" serialNo="true"
			basicSearch="true">
			<columns>
				<column field="target"
					renderWidget="application.text" widthRatio="1"
					 linkAct="maintainAct" />
				<column field="processor" renderWidget="application.text"
					widthRatio="1" />
				<column field="responseCode" renderWidget="application.text"
					widthRatio="1" />
				<column field="responseMsg" renderWidget="application.text"
					widthRatio="1" />
				<column field="createDt" renderWidget="application.datetime"
					widthRatio="1" order="DESC" />
				<column field="updateDt" renderWidget="application.datetime"
					widthRatio="1" />
			</columns>
		</table>
	</tables>
	<!-- Forms -->
	<forms>
		<form name="osMessagingTargetForm"
			description="$m{osmessaging.osmessagingtarget.form}"
			entity="osMessagingTarget">
			<tabs>
				<tab name="basicDetails"
					label="$m{osmessaging.osmessagingtarget.form.basicdetails}"
					contentType="MINIFORM">
					<section name="osMessagingTargetDetails" columns="TYPE_2"
						label="$m{osmessaging.osmessagingtarget.form.section.basicdetails}">
						<field name="name" column="0" required="true" />
						<field name="description" column="0" required="true" />
						<field name="status" column="1" required="true" />
					</section>
					<section name="targetDetails" columns="TYPE_2"
						label="$m{osmessaging.osmessagingtarget.form.section.targetdetails}">
						<field name="targetUrl" column="0" required="true" />
						<field name="password" column="1" required="true" />
					</section>
				</tab>
				<tab name="changeLog" label="$m{application.form.audit}"
					contentType="MINIFORM_CHANGELOG" />
			</tabs>
		</form>
		<form name="osMessagingSourceForm"
			description="$m{osmessaging.osmessagingsource.form}"
			entity="osMessagingSource">
			<tabs>
				<tab name="basicDetails"
					label="$m{osmessaging.osmessagingsource.form.basicdetails}"
					contentType="MINIFORM">
					<section name="osMessagingSourceDetails" columns="TYPE_2"
						label="$m{osmessaging.osmessagingsource.form.section.basicdetails}">
						<field name="name" column="0" required="true" />
						<field name="description" column="0" required="true" />
						<field name="status" column="1" required="true" />
					</section>
					<section name="authDetails" columns="TYPE_2"
						label="$m{osmessaging.osmessagingsource.form.section.authdetails}">
						<field name="password" column="0" required="true" />
					</section>
				</tab>
				<tab name="changeLog" label="$m{application.form.audit}"
					contentType="MINIFORM_CHANGELOG" />
			</tabs>
		</form>
		<form name="osMessagingAsyncForm"
			description="$m{osmessaging.osmessagingasync.form}"
			entity="osMessagingAsync">
			<tabs>
				<tab name="basicDetails"
					label="$m{osmessaging.osmessagingasync.form.basicdetails}"
					contentType="MINIFORM">
					<section name="osMessagingAsyncDetails" columns="TYPE_2"
						label="$m{osmessaging.osmessagingasync.form.section.basicdetails}">
						<field name="target" column="0" required="true" />
						<field name="message" column="1" required="true" />
					</section>
					<section name="processingDetails" columns="TYPE_2"
						label="$m{osmessaging.osmessagingasync.form.section.processing}">
						<field name="nextAttemptOn" column="0" />
						<field name="processBefore" column="0"/>
						<field name="sentOn" column="1" />
					</section>
					<section name="responseDetails" columns="TYPE_2"
						label="$m{osmessaging.osmessagingasync.form.section.response}">
						<field name="responseCode" column="0" />
						<field name="responseMsg" column="1" />
					</section>
				</tab>
				<tab name="changeLog" label="$m{application.form.audit}"
					contentType="MINIFORM_CHANGELOG" />
			</tabs>
		</form>
		<form name="osMessagingLogForm"
			description="$m{osmessaging.osmessaginglog.form}"
			entity="osMessagingLog">
			<tabs>
				<tab name="basicDetails"
					label="$m{osmessaging.osmessaginglog.form.basicdetails}"
					contentType="MINIFORM">
					<section name="basicDetails" columns="TYPE_2"
						label="$m{osmessaging.osmessaginglog.form.basicdetails}">
						<field name="target" column="0" required="true" />
						<field name="processor" inputWidget="application.name"
							column="1" required="true" />
						<field name="runtimeInMilliSec"
							inputWidget="application.integer" column="1" />
					</section>
					<section name="requestDetails" columns="TYPE_1"
						label="$m{osmessaging.osmessaginglog.form.requestdetails}">
						<field name="requestBody" inputWidget="application.textareamedium"
							column="0" />
					</section>
					<section name="responseDetails" columns="TYPE_2"
						label="$m{osmessaging.osmessaginglog.form.responsedetails}">
						<field name="responseCode" inputWidget="application.text"
							column="0" />
						<field name="responseMsg" inputWidget="application.text"
							column="1" />
					</section>
					<section name="responseDetailsBody" columns="TYPE_1">
						<field name="responseBody" inputWidget="application.textareamedium"
							column="0" />
					</section>
				</tab>
				<tab name="changeLog" label="$m{application.form.audit}"
					contentType="MINIFORM_CHANGELOG" />
			</tabs>
		</form>
	</forms>
</application>