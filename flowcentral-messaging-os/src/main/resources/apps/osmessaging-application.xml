<?xml version="1.0"?>
<!-- OS Messaging application -->
<application
	xmlns="http://flowcentraltech.com/schema-common"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://flowcentraltech.com/schema-common https://schema.flowcentralplatform.com/xsd/flowcentral-application-4.0.0.xsd"
	name="osmessaging"
	description="$m{osmessaging.short.description}"
	label="$m{osmessaging.label}" module="osmessaging">
	<!-- Widgets -->

	<!-- Applets -->
	<applets>
		<applet name="manageOSMessagingPeerEndpoint"
			description="$m{osmessaging.osmessagingpeerendpoint.manage}"
			label="$m{osmessaging.osmessagingpeerendpoint.manage.label}" icon="circle-nodes"
			type="MANAGE_ENTITYLIST" entity="osMessagingPeerEndpoint"
			menuAccess="true">
			<properties>
				<property name="searchTable"
					value="osMessagingPeerEndpointTable" />
				<property name="searchTable.new" value="true" />
				<property name="searchTable.report" value="true" />
				<property name="searchTable.quickFilter" value="true" />
				<property name="searchTable.basicSearchOnly" value="true" />
				<property name="createForm" value="osMessagingPeerEndpointForm" />
				<property name="createForm.save" value="true" />
				<property name="createForm.save.next" value="true" />
				<property name="createForm.save.close" value="true" />
				<property name="maintainForm"
					value="osMessagingPeerEndpointForm" />
				<property name="maintainForm.update" value="true" />
				<property name="maintainForm.delete" value="true" />
			</properties>
		</applet>
		<applet name="manageOSMessagingAsync"
			description="$m{osmessaging.osmessagingasync.manage}"
			label="$m{osmessaging.osmessagingasync.manage.label}" icon="mail-bulk"
			type="MANAGE_ENTITYLIST" entity="osMessagingAsync"
			menuAccess="true">
			<properties>
				<property name="searchTable" value="osMessagingAsyncTable" />
				<property name="searchTable.new" value="false" />
				<property name="searchTable.report" value="false" />
				<property name="searchTable.quickFilter" value="true" />
				<property name="searchTable.basicSearchOnly" value="true" />
				<property name="createForm" value="osMessagingAsyncForm" />
				<property name="maintainForm" value="osMessagingAsyncForm" />
				<property name="maintainForm.update" value="false" />
				<property name="maintainForm.delete" value="false" />
			</properties>
		</applet>
		<applet name="manageOSMessagingLog"
			description="$m{osmessaging.osmessaginglog.manage}"
			label="$m{osmessaging.osmessaginglog.manage.label}" icon="logs"
			type="MANAGE_ENTITYLIST" entity="osMessagingLog" menuAccess="true">
			<properties>
				<property name="searchTable" value="osMessagingLogTable" />
				<property name="searchTable.new" value="false" />
				<property name="searchTable.report" value="true" />
				<property name="searchTable.quickFilter" value="true" />
				<property name="searchTable.basicSearchOnly" value="true" />
				<property name="maintainForm" value="osMessagingLogForm" />
				<property name="maintainForm.update" value="false" />
				<property name="maintainForm.delete" value="false" />
			</properties>
		</applet>
		<applet name="manageOSMessagingProcessingLog"
			description="$m{osmessaging.osmessagingprocessinglog.manage}"
			label="$m{osmessaging.osmessagingprocessinglog.manage.label}" icon="logs"
			type="MANAGE_ENTITYLIST" entity="osMessagingProcessingLog" menuAccess="true">
			<properties>
				<property name="searchTable" value="osMessagingProcessingLogTable" />
				<property name="searchTable.new" value="false" />
				<property name="searchTable.report" value="true" />
				<property name="searchTable.quickFilter" value="true" />
				<property name="searchTable.basicSearchOnly" value="true" />
				<property name="maintainForm" value="osMessagingProcessingLogForm" />
				<property name="maintainForm.update" value="false" />
				<property name="maintainForm.delete" value="false" />
			</properties>
		</applet>
	</applets>
	<!-- References -->
	<references>
		<reference name="osMessagingPeerEndpointRef"
			description="$m{osmessaging.osmessagingpeerendpoint.reference}"
			entity="osMessagingPeerEndpoint" searchField="description" />
		<reference name="osMessagingAsyncRef"
			description="$m{osmessaging.osmessagingasync.reference}"
			entity="osMessagingAsync" searchField="target" />
		<reference name="osMessagingLogRef"
			description="$m{osmessaging.osmessaginglog.reference}"
			entity="osMessagingLog" searchField="osMessagingDesc" />
		<reference name="osMessagingProcessingLogRef"
			description="$m{osmessaging.osmessagingprocessinglog.reference}"
			entity="osMessagingProcessingLog" searchField="summary" />
	</references>
	<!-- Entities -->
	<entities>
		<entity name="osMessagingPeerEndpoint"
			description="$m{osmessaging.osmessagingpeerendpoint}"
			label="$m{osmessaging.osmessagingpeerendpoint.label}"
			type="com.flowcentraltech.flowcentral.messaging.os.entities.OSMessagingPeerEndpoint"
			auditable="true" reportable="true">
			<fields>
				<field name="appId"
					label="$m{osmessaging.osmessagingpeerendpoint.appid}" type="STRING"
					inputWidget="application.wildname" maxLen="32" basicSearch="true" />
				<field name="shortName"
					label="$m{osmessaging.osmessagingpeerendpoint.shortname}" type="STRING"
					inputWidget="application.wordwithupper" minLen="3" maxLen="3" />
				<field name="name"
					label="$m{osmessaging.osmessagingpeerendpoint.name}" type="STRING"
					inputWidget="application.name" maxLen="64" basicSearch="true" />
				<field name="description"
					label="$m{osmessaging.osmessagingpeerendpoint.description}" type="STRING"
					inputWidget="application.text" maxLen="256" />
				<field name="endpointUrl"
					label="$m{osmessaging.osmessagingpeerendpoint.endpointurl}"
					type="STRING" inputWidget="application.textarea" maxLen="256" />
				<field name="peerPassword"
					label="$m{osmessaging.osmessagingpeerendpoint.peerpassword}" type="STRING"
					inputWidget="application.password" maxLen="64" />
			</fields>
			<uniqueConstraints>
				<uniqueConstraint name="appIdUc"
					description="$m{osmessaging.osmessagingpeerendpoint.uc.appid}"
					fieldList="appId" />
				<uniqueConstraint name="shortNameUc"
					description="$m{osmessaging.osmessagingpeerendpoint.uc.shortname}"
					fieldList="shortName" />
				<uniqueConstraint name="nameUc"
					description="$m{osmessaging.osmessagingpeerendpoint.uc.name}"
					fieldList="name" />
				<uniqueConstraint name="descUc"
					description="$m{osmessaging.osmessagingpeerendpoint.uc.description}"
					fieldList="description" />
			</uniqueConstraints>
		</entity>
		<entity name="osMessagingAsync"
			description="$m{osmessaging.osmessagingasync}"
			label="$m{osmessaging.osmessagingasync.label}"
			type="com.flowcentraltech.flowcentral.messaging.os.entities.OSMessagingAsync"
			auditable="true" reportable="true">
			<fields>
				<field name="correlationId"
					label="$m{osmessaging.osmessaginglog.correlationid}" type="STRING"
					maxLen="32" nullable="true" basicSearch="true"/>
				<field name="target"
					label="$m{osmessaging.osmessagingasync.endpoint}" type="STRING"
					inputWidget="application.text" maxLen="64" basicSearch="true" />
				<field name="message"
					label="$m{osmessaging.osmessagingasync.message}" type="CLOB"
					inputWidget="application.textareamedium" />
				<field name="nextAttemptOn"
					label="$m{osmessaging.osmessagingasync.nextattempton}"
					type="TIMESTAMP" inputWidget="application.text"/>
				<field name="processBefore"
					label="$m{osmessaging.osmessagingasync.processbefore}"
					type="TIMESTAMP" inputWidget="application.text" nullable="true"/>
				<field name="sentOn"
					label="$m{osmessaging.osmessagingasync.senton}"
					type="TIMESTAMP" inputWidget="application.text" nullable="true"/>
				<field name="responseCode"
					label="$m{osmessaging.osmessagingasync.responsecode}" type="STRING"
					inputWidget="application.name" maxLen="10"/>
				<field name="responseMsg"
					label="$m{osmessaging.osmessagingasync.responsemsg}" type="STRING"
					inputWidget="application.textarea" maxLen="256" />
				<field name="processing"
					label="$m{osmessaging.osmessagingasync.processing}" type="BOOLEAN"
					inputWidget="application.checkbox" nullable="true" />
			</fields>
		</entity>
		<entity name="osMessagingLog"
			description="$m{osmessaging.osmessaginglog}"
			label="$m{osmessaging.osmessaginglog.label}"
			type="com.flowcentraltech.flowcentral.messaging.os.entities.OSMessagingLog">
			<fields>
				<field name="correlationId"
					label="$m{osmessaging.osmessaginglog.correlationid}" type="STRING"
					maxLen="32" nullable="true" basicSearch="true"/>
				<field name="target"
					label="$m{osmessaging.osmessaginglog.target}" type="STRING"
					maxLen="32" basicSearch="true" />
				<field name="processor"
					label="$m{osmessaging.osmessaginglog.processor}" type="STRING"
					maxLen="64" nullable="true" basicSearch="true"/>
				<field name="requestBody"
					label="$m{osmessaging.osmessaginglog.requestbody}" type="STRING"
					nullable="true" />
				<field name="responseBody"
					label="$m{osmessaging.osmessaginglog.responsebody}" type="STRING"
					nullable="true" />
				<field name="responseCode"
					label="$m{osmessaging.osmessaginglog.responsecode}" type="STRING"
					maxLen="10" nullable="true" />
				<field name="responseMsg"
					label="$m{osmessaging.osmessaginglog.responsemsg}" type="STRING"
					maxLen="512" nullable="true" />
				<field name="runtimeInMilliSec"
					label="$m{osmessaging.osmessaginglog.runtimeinmillisec}" type="LONG"
					nullable="true" />
			</fields>
		</entity>
		<entity name="osMessagingProcessingLog"
			description="$m{osmessaging.osmessagingprocessinglog}"
			label="$m{osmessaging.osmessagingprocessinglog.label}"
			type="com.flowcentraltech.flowcentral.messaging.os.entities.OSMessagingProcessingLog">
			<fields>
				<field name="correlationId"
					label="$m{osmessaging.osmessaginglog.correlationid}" type="STRING"
					maxLen="32" nullable="true" basicSearch="true"/>
				<field name="mode"
					label="$m{osmessaging.osmessagingprocessinglog.mode}" type="ENUM_REF"
					inputWidget="application.enumlist"
					references="osmessagingmodelist" basicSearch="true" />
				<field name="modeDesc"
					label="$m{osmessaging.osmessagingprocessinglog.modedesc}"
					type="LIST_ONLY" inputWidget="application.text" key="mode"
					property="description" />
				<field name="source"
					label="$m{osmessaging.osmessagingprocessinglog.source}" type="STRING"
					maxLen="32" basicSearch="true" />
				<field name="processor"
					label="$m{osmessaging.osmessagingprocessinglog.processor}" type="STRING"
					maxLen="64" nullable="true" basicSearch="true"/>
				<field name="summary"
					label="$m{osmessaging.osmessagingprocessinglog.summary}" type="STRING" />
				<field name="responseCode"
					label="$m{osmessaging.osmessagingprocessinglog.responsecode}" type="STRING"
					maxLen="10" />
				<field name="responseMsg"
					label="$m{osmessaging.osmessagingprocessinglog.responsemsg}" type="STRING"
					maxLen="1024"  />
				<field name="createDate"
					label="$m{osmessaging.osmessagingprocessinglog.createdate}" type="TIMESTAMP"/>
			</fields>
		</entity>
	</entities>
	<!-- Tables -->
	<tables>
		<table name="osMessagingPeerEndpointTable"
			description="$m{osmessaging.osmessagingpeerendpoint.table}"
			label="$m{osmessaging.osmessagingpeerendpoint.table.label}"
			entity="osMessagingPeerEndpoint" itemsPerPage="20" serialNo="true"
			basicSearch="true">
			<columns>
				<column field="name" renderWidget="application.name"
					widthRatio="2" linkAct="maintainAct" />
				<column field="shortName" renderWidget="application.text"
					widthRatio="2" />
				<column field="description" renderWidget="application.text"
					widthRatio="4" />
				<column field="endpointUrl" renderWidget="application.text"
					widthRatio="3" />
				<column field="statusDesc" renderWidget="application.text"
					label="$m{osmessaging.osmessagingpeerendpoint.status}" widthRatio="1" />
				<column field="createDt" renderWidget="application.datetime"
					widthRatio="2" order="DESC" />
				<column field="updateDt" renderWidget="application.datetime"
					widthRatio="2" />
			</columns>
		</table>
		<table name="osMessagingAsyncTable"
			description="$m{osmessaging.osmessagingasync.table}"
			label="$m{osmessaging.osmessagingasync.table.label}"
			entity="osMessagingAsync" itemsPerPage="20" serialNo="true"
			basicSearch="true">
			<columns>
				<column field="correlationId" renderWidget="application.text"
					widthRatio="1" linkAct="maintainAct" />
				<column field="target" renderWidget="application.name"
					widthRatio="1"/>
				<column field="nextAttemptOn" renderWidget="application.text"
					widthRatio="1" />
				<column field="sentOn" renderWidget="application.datetime"
					widthRatio="1"/>
				<column field="responseCode" renderWidget="application.text"
					widthRatio="1" />
				<column field="createDt" renderWidget="application.datetime"
					widthRatio="1" order="DESC" />
				<column field="updateDt" renderWidget="application.datetime"
					widthRatio="1" />
			</columns>
		</table>
		<table name="osMessagingLogTable"
			description="$m{osmessaging.osmessaginglog.table}"
			label="$m{osmessaging.osmessaginglog.table.label}"
			entity="osMessagingLog" itemsPerPage="25" serialNo="true"
			basicSearch="true">
			<columns>
				<column field="correlationId"
					renderWidget="application.text" widthRatio="1"
					 linkAct="maintainAct" />
				<column field="target"
					renderWidget="application.text" widthRatio="1" />
				<column field="processor" renderWidget="application.text"
					widthRatio="1" />
				<column field="responseCode" renderWidget="application.text"
					widthRatio="1" />
				<column field="responseMsg" renderWidget="application.text"
					widthRatio="1" />
				<column field="createDt" renderWidget="application.datetime"
					widthRatio="1" order="DESC" />
				<column field="updateDt" renderWidget="application.datetime"
					widthRatio="1" />
			</columns>
		</table>
		<table name="osMessagingProcessingLogTable"
			description="$m{osmessaging.osmessagingprocessinglog.table}"
			label="$m{osmessaging.osmessagingprocessinglog.table.label}"
			entity="osMessagingProcessingLog" itemsPerPage="50" serialNo="true"
			basicSearch="true">
			<columns>
				<column field="correlationId"
					renderWidget="application.text" widthRatio="1"
					 linkAct="maintainAct" />
				<column field="source"
					renderWidget="application.text" widthRatio="1"/>
				<column field="processor" renderWidget="application.text"
					widthRatio="1" />
				<column field="summary" renderWidget="application.text"
					widthRatio="1" />
				<column field="responseCode" renderWidget="application.text"
					widthRatio="1" />
				<column field="responseMsg" renderWidget="application.text"
					widthRatio="1" />
				<column field="modeDesc" renderWidget="application.text"
					widthRatio="1" />
				<column field="createDate" renderWidget="application.datetime"
					widthRatio="1" order="DESC" />
			</columns>
		</table>
	</tables>
	<!-- Forms -->
	<forms>
		<form name="osMessagingPeerEndpointForm"
			description="$m{osmessaging.osmessagingpeerendpoint.form}"
			entity="osMessagingPeerEndpoint">
			<tabs>
				<tab name="basicDetails"
					label="$m{osmessaging.osmessagingpeerendpoint.form.basicdetails}"
					contentType="MINIFORM">
					<section name="osMessagingPeerEndpointDetails" columns="TYPE_2"
						label="$m{osmessaging.osmessagingpeerendpoint.form.section.basicdetails}">
						<field name="name" column="0" required="true" />
						<field name="description" column="0" required="true" />
						<field name="shortName" column="0" required="true" />
						<field name="appId" column="1" required="true" />
						<field name="status" column="1" required="true" />
					</section>
					<section name="endpointDetails" columns="TYPE_2"
						label="$m{osmessaging.osmessagingpeerendpoint.form.section.endpointdetails}">
						<field name="endpointUrl" column="0" required="true" />
						<field name="peerPassword" column="1" required="true" />
					</section>
				</tab>
				<tab name="changeLog" label="$m{application.form.audit}"
					contentType="MINIFORM_CHANGELOG" />
			</tabs>
		</form>
		<form name="osMessagingAsyncForm"
			description="$m{osmessaging.osmessagingasync.form}"
			entity="osMessagingAsync">
			<tabs>
				<tab name="basicDetails"
					label="$m{osmessaging.osmessagingasync.form.basicdetails}"
					contentType="MINIFORM">
					<section name="osMessagingAsyncDetails" columns="TYPE_2"
						label="$m{osmessaging.osmessagingasync.form.section.basicdetails}">
						<field name="correlationId" column="0" required="true" />
						<field name="target" column="0" required="true" />
						<field name="message" column="1" required="true" />
					</section>
					<section name="processingDetails" columns="TYPE_2"
						label="$m{osmessaging.osmessagingasync.form.section.processing}">
						<field name="nextAttemptOn" column="0" />
						<field name="processBefore" column="0"/>
						<field name="sentOn" column="1" />
					</section>
					<section name="responseDetails" columns="TYPE_2"
						label="$m{osmessaging.osmessagingasync.form.section.response}">
						<field name="responseCode" column="0" />
						<field name="responseMsg" column="1" />
					</section>
				</tab>
				<tab name="changeLog" label="$m{application.form.audit}"
					contentType="MINIFORM_CHANGELOG" />
			</tabs>
		</form>
		<form name="osMessagingLogForm"
			description="$m{osmessaging.osmessaginglog.form}"
			entity="osMessagingLog">
			<tabs>
				<tab name="basicDetails"
					label="$m{osmessaging.osmessaginglog.form.basicdetails}"
					contentType="MINIFORM">
					<section name="basicDetails" columns="TYPE_2"
						label="$m{osmessaging.osmessaginglog.form.basicdetails}">
						<field name="correlationId" column="0" required="true" />
						<field name="target" column="0" required="true" />
						<field name="processor" inputWidget="application.name"
							column="1" required="true" />
						<field name="runtimeInMilliSec"
							inputWidget="application.integer" column="1" />
					</section>
					<section name="requestDetails" columns="TYPE_1"
						label="$m{osmessaging.osmessaginglog.form.requestdetails}">
						<field name="requestBody" inputWidget="application.textareamedium"
							column="0" />
					</section>
					<section name="responseDetails" columns="TYPE_2"
						label="$m{osmessaging.osmessaginglog.form.responsedetails}">
						<field name="responseCode" inputWidget="application.text"
							column="0" />
						<field name="responseMsg" inputWidget="application.text"
							column="1" />
					</section>
					<section name="responseDetailsBody" columns="TYPE_1">
						<field name="responseBody" inputWidget="application.textareamedium"
							column="0" />
					</section>
				</tab>
				<tab name="changeLog" label="$m{application.form.audit}"
					contentType="MINIFORM_CHANGELOG" />
			</tabs>
		</form>
		<form name="osMessagingProcessingLogForm"
			description="$m{osmessaging.osmessagingprocessinglog.form}"
			entity="osMessagingProcessingLog">
			<tabs>
				<tab name="basicDetails"
					label="$m{osmessaging.osmessagingprocessinglog.form.basicdetails}"
					contentType="MINIFORM">
					<section name="basicDetails" columns="TYPE_2"
						label="$m{osmessaging.osmessagingprocessinglog.form.basicdetails}">
						<field name="correlationId" column="0" required="true" />
						<field name="source" column="0" required="true" />
						<field name="processor" inputWidget="application.name"
							column="1" required="true" />
						<field name="mode" column="1" />
					</section>
					<section name="requestDetails" columns="TYPE_1"
						label="$m{osmessaging.osmessagingprocessinglog.form.requestdetails}">
						<field name="summary" inputWidget="application.textarea"
							column="0" />
					</section>
					<section name="responseDetails" columns="TYPE_2"
						label="$m{osmessaging.osmessagingprocessinglog.form.responsedetails}">
						<field name="responseCode" inputWidget="application.text"
							column="0" />
						<field name="responseMsg" inputWidget="application.text"
							column="1" />
					</section>
				</tab>
				<tab name="changeLog" label="$m{application.form.audit}"
					contentType="MINIFORM_CHANGELOG" />
			</tabs>
		</form>
	</forms>
</application>